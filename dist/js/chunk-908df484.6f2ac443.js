(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-908df484"],{"62fb":function(t,e,a){"use strict";var r=a("c390"),n=a.n(r);n.a},be03:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.id},dataSource:t.getAllUserActivities,pagination:t.getUserActivitiesPagination,loading:t.loading,align:"center"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e,r){return[a("div",{staticClass:"activity-container"},[a("span",{domProps:{innerHTML:t._s(t.sortUserActivities(r))}}),a("a-tag",{staticClass:"time",attrs:{color:"blue"}},[t._v(t._s(t.convertISOToLocaleTime(r.time)))])],1)]}}])})},n=[],i=(a("99af"),a("b0c0"),a("d3b7"),a("cc71"),a("5530")),s=a("5880"),o={data:function(){return{orderNumber:this.$route.params.id,loading:!1,columns:[{title:this.$t("activities"),key:"action",scopedSlots:{customRender:"action"}}],paymentMethods:{cash:"Наличные",card:"Терминал",click:"Click",payme:"Payme",unired:"Unired"},orderStatus:{"in-process":"В обработке",finished:"Завершено",cancelled:"Отменен"}}},methods:Object(i["a"])(Object(i["a"])({},Object(s["mapActions"])(["getUserActivities"])),{},{handleTableChange:function(t){var e=this;this.loading=!0,this.getUserActivities({page:t,orderNumber:this.orderNumber}).then((function(t){})).catch((function(t){e.$message.error(e.$t("error"))})).finally((function(){return e.loading=!1}))},sortUserActivities:function(t){var e=t.action,a=t.user.name,r=t.from_value,n=t.to_value;switch(e){case"change-status":return"Пользователь ".concat(a.bold()," изменил статус с ").concat(this.textChanger(r,e)," на ").concat(this.textChanger(n,e));case"change-payment-method":return"Пользователь ".concat(a.bold()," изменил способ оплаты с ").concat(this.textChanger(r,e)," на ").concat(this.textChanger(n,e));case"change-address":return"Пользователь ".concat(a.bold()," изменил адрес с ").concat(r.bold()," на ").concat(n.bold());case"change-customer-name":return"Пользователь ".concat(a.bold()," изменил имя клиента с ").concat(r.bold()," на ").concat(n.bold());case"change-note":return"Пользователь ".concat(a.bold()," изменил комментарий на ").concat(n.bold());default:return t}},convertISOToLocaleTime:function(t){return new Date(t).toLocaleString("uz-UZ")},textChanger:function(t,e){switch(e){case"change-payment-method":return this.paymentMethods[t].bold();case"change-status":return this.orderStatus[t].bold();default:return t}}}),computed:Object(i["a"])(Object(i["a"])({},Object(s["mapGetters"])(["userActivities","userActivitiesPagination"])),{},{getAllUserActivities:function(){return this.userActivities},getUserActivitiesPagination:function(){return this.userActivitiesPagination}}),mounted:function(){var t=this;this.loading=!0,this.getUserActivities({page:null,orderNumber:this.orderNumber}).then((function(t){})).catch((function(t){})).finally((function(){return t.loading=!1}))}},c=o,d=(a("e62f"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"1a440624",null);e["a"]=u.exports},bf6b:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("d3b7"),a("ac1f"),a("25f0"),a("5319");function r(t){return"".concat(t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")," сум")}},c1af:function(t,e,a){},c390:function(t,e,a){},d013:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-breadcrumb",{staticStyle:{margin:"10px 5px"}},[a("a-breadcrumb-item",[a("router-link",{attrs:{to:"/orders/list"}},[t._v(t._s(t.$t("orders")))])],1),a("a-breadcrumb-item",[t._v(t._s(t.$t("details")))])],1)],1)],1),a("a-card",{attrs:{title:t.$t("fillIn")}},[a("a-row",[a("div",[a("a-row",[a("a-col",{staticStyle:{padding:"0 15px"},attrs:{span:12}},[a("a-input",{attrs:{disabled:"",type:"number"},model:{value:t.orderNumber,callback:function(e){t.orderNumber=e},expression:"orderNumber"}})],1),a("a-col",{staticStyle:{padding:"0 15px"},attrs:{span:12}},[t._v(" СУММА ЗАКАЗА: "),a("div",[t._v(t._s(this.items?t.numberToPrice(t.calcTotalPrice(this.items)):null))])])],1),a("a-row",[a("a-tabs",{staticStyle:{padding:"0 15px"},attrs:{type:"card"},on:{change:t.activeTabHandler},model:{value:t.activeTabKey,callback:function(e){t.activeTabKey=e},expression:"activeTabKey"}},[a("a-tab-pane",{key:"1",attrs:{tab:t.$t("order_data")}},[a("a-row",[a("a-col",{staticStyle:{padding:"0 15px 0 0"},attrs:{span:24}},[a("a-descriptions",{attrs:{layout:"horizontal",bordered:""}},[a("a-descriptions-item",{attrs:{span:24,label:t.$t("customer_name")}},[t._v(" "+t._s(t.order.customer_name)+" ")]),a("a-descriptions-item",{attrs:{span:24,label:t.$t("order_number")}},[a("div",{domProps:{innerHTML:t._s(t.orderNumber)}})]),a("a-descriptions-item",{attrs:{span:24,label:t.$t("payment_method")}},[t._v(" "+t._s(this.paymentMethods[t.order.payment_method])+" ")]),a("a-descriptions-item",{attrs:{span:24,label:t.$t("delivery_method")}},[t._v(" "+t._s(this.deliveryMethods[t.order.delivery_method])+" ")]),a("a-descriptions-item",{attrs:{span:24,label:t.$t("address")}},[t._v(" "+t._s(t.order.address)+" ")]),a("a-descriptions-item",{attrs:{span:24,label:t.$t("note")}},[t._v(" "+t._s(t.order.note)+" ")]),a("a-descriptions-item",{attrs:{span:24,label:t.$t("status")}},[t._v(" "+t._s(this.orderStatus[t.order.status])+" ")])],1)],1)],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:t.$t("products")}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-table",{attrs:{rowKey:function(t){return t.product_id},columns:t.columns,"data-source":t.getProducts,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"price",fn:function(e,a){return[t._v(" "+t._s(t.numberToPrice(a.price))+" ")]}},{key:"image",fn:function(t){return[a("img",{staticClass:"product-image",attrs:{src:t.image,alt:"product image"}})]}}])})],1)],1)],1),a("a-tab-pane",{key:"3",attrs:{tab:t.$t("activities")}},[a("user-activities")],1)],1)],1)],1)])],1)],1)},n=[],i=(a("a9e3"),a("ac1f"),a("1276"),a("b775")),s=a("be03"),o=a("fff2"),c=a("bf6b"),d={components:{"user-activities":s["a"]},data:function(){return{activeTabKey:"1",orderNumber:this.$route.params.id,items:null,order:{customer_name:"",address:"",phone:"",note:"",status:"",delivery_method:"",payment_method:""},columns:[{title:this.$t("product_name"),dataIndex:"product_name"},{title:this.$t("price"),key:"price",scopedSlots:{customRender:"price"}},{title:this.$t("image"),key:"image",scopedSlots:{customRender:"image"}},{title:this.$t("quantity"),dataIndex:"quantity"}],paymentMethods:{cash:"Наличные",card:"Терминал",click:"Click",payme:"Payme",unired:"Unired"},orderStatus:{"in-process":"В обработке",finished:"Завершено",cancelled:"Отменен"},deliveryMethods:{self:"Самовывоз",delivery:"Доставка в течении дня"}}},mounted:function(){this.getOrderAttrs()},computed:{getProducts:function(){return this.items}},methods:{getOrderAttrs:function(){var t=this;Object(i["b"])({url:"/order/".concat(this.orderNumber),method:"get"}).then((function(e){var a=e.items,r=e.customer_name,n=e.address,i=e.phone,s=e.note,o=e.status,c=e.longlat,d=e.delivery_method,u=e.payment_method;t.items=a,t.order.customer_name=r,t.order.address=n,t.order.phone=i,t.order.note=s,t.order.status=o,t.order.delivery_method=d,t.order.payment_method=u,t.coords=[Number(c.split(",")[1]),Number(c.split(",")[0])]}))},activeTabHandler:function(t){this.activeTabKey=t},calcTotalPrice:function(t){return Object(o["a"])(t)},numberToPrice:function(t){return Object(c["a"])(t)},handleTableChange:function(t){}}},u=d,l=(a("62fb"),a("2877")),m=Object(l["a"])(u,r,n,!1,null,null,null);e["default"]=m.exports},e62f:function(t,e,a){"use strict";var r=a("c1af"),n=a.n(r);n.a},fff2:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("13d5");function r(t){return t?t.reduce((function(t,e){return t+=e.quantity*e.price,t}),0):0}}}]);