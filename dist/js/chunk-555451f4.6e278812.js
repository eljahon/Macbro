(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-555451f4"],{"05b9":function(t,e,a){"use strict";var n=a("0a56"),s=a.n(n);s.a},"0a56":function(t,e,a){},b29b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-breadcrumb",{staticStyle:{margin:"10px 5px"}},[a("a-breadcrumb-item",[a("router-link",{attrs:{to:"/1c"}},[t._v(t._s(t.$t("c1")))])],1)],1)],1)],1),a("a-card",{attrs:{title:t.$t("update-prices")}},[a("div",{staticStyle:{"text-align":"center"}},[a("h1",[t._v("Загрузить данные")])]),a("a-upload-dragger",{attrs:{name:"file",multiple:!0,accept:".csv",beforeUpload:t.beforeUpload,customRequest:t.uploadCsv},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[t._v("Щелкните или перетащите файл в эту область, чтобы загрузить")]),a("p",{staticClass:"ant-upload-hint"},[t._v(" Можно отправить только файл CSV ")])]),t.response?a("div",[a("span",[t._v("Ваш запрос был обработан. Результат:")]),a("pre",[t._v("        "+t._s(JSON.stringify(this.response,null,2))+"\n      ")])]):t._e(),a("a-button",{staticStyle:{margin:"15px 0 0"},attrs:{loading:t.loading,type:"primary","html-type":"submit"},on:{click:function(e){return e.preventDefault(),t.sendFile(e)}}},[t._v(" "+t._s(t.$t("save"))+" ")]),t.loading?a("p",[t._v("Документ обрабатывается"),a("loader")],1):t._e()],1)],1)},s=[],i=(a("d3b7"),a("cebe")),r=a.n(i),o={data:function(){return{file:"",loading:!1,response:null,error:!1}},methods:{uploadCsv:function(t){this.error&&(this.error=!1);var e=new FormData;e.append("file",t.file),this.file=e},beforeUpload:function(t){},handleChange:function(t){t.file.status="done"},sendFile:function(t){var e=this;this.file?(this.loading=!0,this.$message.success("Ваш запрос обрабатывается"),r()({url:"https://1c.goodzone.uz/api/price-update",method:"post",data:this.file,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.response=t.data,e.$message.success(e.$t("successfullyUploaded"))})).catch((function(t){e.$message.success("Ваш запрос был обработан"),e.error=!0})).finally((function(){return e.loading=!1}))):this.$message.error("Пожалуйста, выберите файл для загрузки")}}},l=o,c=(a("05b9"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,"1ad9eb1c",null);e["default"]=u.exports}}]);