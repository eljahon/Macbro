(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"0d00":function(e,t,a){"use strict";var r=a("423a"),i=a.n(r);i.a},1037:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-result",{attrs:{isSuccess:!0,content:!1,title:e.email,"sub-title":e.description},scopedSlots:e._u([{key:"extra",fn:function(){return[a("a-button",{attrs:{size:"large",type:"primary"}},[e._v("View mail")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"large"},on:{click:e.goHomeHandle}},[e._v("Back to top")])]},proxy:!0}])})},i=[],s={name:"RegisterResult",data:function(){return{description:"The activation email has been sent to your mailbox, and the email is valid for 24 hours. Please log in to the mailbox in time and click the link in the email to activate the account. ",form:{}}},computed:{email:function(){var e=this.form&&this.form.email||"xxx";return"Your account:".concat(e," successfully registered ")}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){this.$router.push({name:"login"})}}},o=s,n=a("2877"),l=Object(n["a"])(o,r,i,!1,null,"3802720b",null);t["default"]=l.exports},1348:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main user-layout-register"},[e._m(0),a("a-form",{ref:"formRegister",attrs:{form:e.form,id:"formRegister"}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Iltimos, ismingizni kiriting"}],validateTrigger:["change","blur"]}],expression:"['email', {rules: [{ required: true, message: 'Iltimos, ismingizni kiriting' }], validateTrigger: ['change', 'blur']}]"}],attrs:{size:"large",type:"text",placeholder:"Ismingiz"}})],1),a("a-popover",{attrs:{placement:"rightTop",trigger:["focus"],getPopupContainer:function(e){return e.parentElement}},model:{value:e.state.passwordLevelChecked,callback:function(t){e.$set(e.state,"passwordLevelChecked",t)},expression:"state.passwordLevelChecked"}},[a("template",{slot:"content"},[a("div",{style:{width:"240px"}},[a("div",{class:["user-register",e.passwordLevelClass]},[e._v("Mustahkamligi:"),a("span",[e._v(e._s(e.passwordLevelName))])]),a("a-progress",{attrs:{percent:e.state.percent,showInfo:!1,strokeColor:e.passwordLevelColor}}),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("Kamida 6 raqam kiriting")])])],1)]),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Kamida 6 raqam kiriting"},{validator:this.handlePasswordLevel}],validateTrigger:["change","blur"]}],expression:"['password', {rules: [{ required: true, message: 'Kamida 6 raqam kiriting'}, { validator: this.handlePasswordLevel }], validateTrigger: ['change', 'blur']}]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"Kamida 6 raqam kiriting"},on:{click:e.handlePasswordInputClick}})],1)],2),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{required:!0,message:"Kamida 6 raqam kiriting"},{validator:this.handlePasswordCheck}],validateTrigger:["change","blur"]}],expression:"['password2', {rules: [{ required: true, message: 'Kamida 6 raqam kiriting' }, { validator: this.handlePasswordCheck }], validateTrigger: ['change', 'blur']}]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"Confirm password"}})],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{rules:[{required:!0,message:"Iltimos bor nomerni kiriting",pattern:/^9[123456789]\d{9}$/},{validator:this.handlePhoneCheck}],validateTrigger:["change","blur"]}],expression:"['mobile', {rules: [{ required: true, message: 'Iltimos bor nomerni kiriting', pattern: /^9[123456789]\\d{9}$/ }, { validator: this.handlePhoneCheck } ], validateTrigger: ['change', 'blur'] }]"}],attrs:{size:"large",placeholder:"7 ta raqamdan iborat"}},[a("a-select",{attrs:{slot:"addonBefore",size:"large",defaultValue:"+99871"},slot:"addonBefore"},[a("a-select-option",{attrs:{value:"+99897"}},[e._v("+99897")]),a("a-select-option",{attrs:{value:"+99894"}},[e._v("+99894")]),a("a-select-option",{attrs:{value:"+99893"}},[e._v("+99893")]),a("a-select-option",{attrs:{value:"+99890"}},[e._v("+99890")]),a("a-select-option",{attrs:{value:"+99891"}},[e._v("+99891")]),a("a-select-option",{attrs:{value:"+99898"}},[e._v("+99898")]),a("a-select-option",{attrs:{value:"+99871"}},[e._v("+99871")]),a("a-select-option",{attrs:{value:"+99895"}},[e._v("+99895")])],1)],1)],1),a("a-form-item",[a("a-button",{staticClass:"register-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.registerBtn,disabled:e.registerBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[e._v("Registratsiya ")]),a("router-link",{staticClass:"login",attrs:{to:{name:"login"}}},[e._v("Mavjud profile bilan tizimga kirish")])],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("span",[e._v("Register")])])}],s=(a("498a"),a("5530")),o=a("b775"),n={Login:"/shippers/login",Logout:"/auth/logout",ForgePassword:"/auth/forge-password",Register:"/auth/register",twoStepCode:"/auth/2step-code",SendSms:"/account/sms",SendSmsErr:"/account/sms_err",UserInfo:"/customers/ea54a955-c321-4c73-8305-ef215461ec62",UserMenu:"/user/nav"};function l(e){return Object(o["b"])({url:n.SendSms,method:"post",data:e})}var c={0:"0",1:"1",2:"2",3:"3"},u={0:"error",1:"error",2:"warning",3:"success"},d={0:"#ff0000",1:"#ff0000",2:"#ff7e05",3:"#52c41a"},m={name:"Register",components:{},mixins:[],data:function(){return{form:this.$form.createForm(this),state:{time:60,smsSendBtn:!1,passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:"#FF0000"},registerBtn:!1}},computed:{passwordLevelClass:function(){return u[this.state.passwordLevel]},passwordLevelName:function(){return c[this.state.passwordLevel]},passwordLevelColor:function(){return d[this.state.passwordLevel]}},methods:{handlePasswordLevel:function(e,t,a){var r=0;/[0-9]/.test(t)&&r++,/[a-zA-Z]/.test(t)&&r++,/[^0-9a-zA-Z_]/.test(t)&&r++,this.state.passwordLevel=r,this.state.percent=30*r,r>=2?(r>=3&&(this.state.percent=100),a()):(0===r&&(this.state.percent=10),a(new Error("Passwordni kuchi kamlik qilmoqda")))},handlePasswordCheck:function(e,t,a){var r=this.form.getFieldValue("password");void 0===t&&a(new Error("Iltimos passwordni kiriting")),t&&r&&t.trim()!==r.trim()&&a(new Error("Two passwords are inconsistent")),a()},handlePhoneCheck:function(e,t,a){a()},handlePasswordInputClick:function(){this.isMobile()?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleSubmit:function(){var e=this.form.validateFields,t=this.state,a=this.$router;e({force:!0},(function(e,r){e||(t.passwordLevelChecked=!1,a.push({name:"registerResult",params:Object(s["a"])({},r)}))}))},getCaptcha:function(e){var t=this;e.preventDefault();var a=this.form.validateFields,r=this.state,i=this.$message,s=this.$notification;a(["mobile"],{force:!0},(function(e,a){if(!e){r.smsSendBtn=!0;var o=window.setInterval((function(){r.time--<=0&&(r.time=60,r.smsSendBtn=!1,window.clearInterval(o))}),1e3),n=i.loading("Verification",0);l({mobile:a.mobile}).then((function(e){setTimeout(n,2500),s["success"]({message:"promt",description:"he verification code is successfully obtained. Your verification code is:"+e.result.captcha,duration:8})})).catch((function(e){setTimeout(n,1),clearInterval(o),r.time=60,r.smsSendBtn=!1,t.requestFailed(e)}))}}))},requestFailed:function(e){this.$notification["error"]({message:"Error",description:((e.response||{}).data||{}).message||"There was an error with the request, please try again later ",duration:4}),this.registerBtn=!1}},watch:{"state.passwordLevel":function(e){}}},p=m,g=(a("5d18"),a("797b"),a("2877")),h=Object(g["a"])(p,r,i,!1,null,"7b5040b3",null);t["default"]=h.exports},"3c25":function(e,t,a){},"423a":function(e,t,a){},"5d18":function(e,t,a){"use strict";var r=a("eeab"),i=a.n(r);i.a},"797b":function(e,t,a){"use strict";var r=a("3c25"),i=a.n(r);i.a},"90b4":function(e,t,a){},ac2a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:e.form},on:{submit:e.handleSubmit}},[a("a-tabs",{attrs:{activeKey:e.customActiveKey,tabBarStyle:{textAlign:"center",borderBottom:"unset"}},on:{change:e.handleTabClick}},[a("a-tab-pane",{key:"tab1",attrs:{tab:"Shaxsiy kabinetga kirish"}},[e.isLoginError?a("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:"Parol yoki login xato!"}}):e._e(),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["login",{rules:[{required:!0,message:"Iltimos, foydalanuvchini kiriting"},{validator:e.handleUsernameOrEmail}],validateTrigger:"change"}],expression:"[\n              'login',\n              {rules: [{ required: true, message: 'Iltimos, foydalanuvchini kiriting' }, { validator: handleUsernameOrEmail }], validateTrigger: 'change'}\n            ]"}],attrs:{size:"large",type:"text",placeholder:"admin"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Iltimos, parolingizni kiriting"}],validateTrigger:"blur"}],expression:"[\n              'password',\n              {rules: [{ required: true, message: 'Iltimos, parolingizni kiriting' }], validateTrigger: 'blur'}\n            ]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"admin"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],1),a("a-form-item"),a("a-form-item",{staticStyle:{"margin-top":"24px"}},[a("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.state.loginBtn,disabled:e.state.loginBtn}},[e._v("Kirish")])],1),a("div",{staticClass:"user-login-other"},[a("router-link",{staticClass:"register",attrs:{to:{name:"register"}}},[e._v("Ro'yxatdan o'tish")])],1)],1),e.requiredTwoStepCaptcha?a("two-step-captcha",{attrs:{visible:e.stepCaptchaVisible},on:{success:e.stepCaptchaSuccess,cancel:e.stepCaptchaCancel}}):e._e()],1)},i=[],s=(a("d3b7"),a("5530")),o=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("a-modal",{attrs:{centered:"",maskClosable:!1},on:{cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("div",{style:{textAlign:"center"},attrs:{slot:"title"},slot:"title"},[t._v("两步验证")]),r("template",{slot:"footer"},[r("div",{style:{textAlign:"center"}},[r("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("返回")]),r("a-button",{key:"submit",attrs:{type:"primary",loading:t.stepLoading},on:{click:t.handleStepOk}},[t._v(" 继续 ")])],1)]),r("a-spin",{attrs:{spinning:t.stepLoading}},[r("a-form",{attrs:{layout:"vertical","auto-form-create":function(t){e.form=t}}},[r("div",{staticClass:"step-form-wrapper"},[t.stepLoading?r("p",{staticStyle:{"text-align":"center"}},[t._v("正在验证.."),r("br"),t._v("请稍后")]):r("p",{staticStyle:{"text-align":"center"}},[t._v("请在手机中打开 Google Authenticator 或两步验证 APP"),r("br"),t._v("输入 6 位动态码")]),r("a-form-item",{style:{textAlign:"center"},attrs:{hasFeedback:"",fieldDecoratorId:"stepCode",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入 6 位动态码!",pattern:/^\d{6}$/,len:6}]}}},[r("a-input",{style:{textAlign:"center"},attrs:{placeholder:"000000"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleStepOk(e)}}})],1),r("p",{staticStyle:{"text-align":"center"}},[r("a",{on:{click:t.onForgeStepCode}},[t._v("遗失手机?")])])],1)])],1)],2)},n=[],l={props:{visible:{type:Boolean,default:!1}},data:function(){return{stepLoading:!1,form:null}},methods:{handleStepOk:function(){var e=this,t=this;this.stepLoading=!0,this.form.validateFields((function(a,r){a?(e.stepLoading=!1,e.$emit("error",{err:a})):setTimeout((function(){t.stepLoading=!1,t.$emit("success",{values:r})}),2e3)}))},handleCancel:function(){this.visible=!1,this.$emit("cancel")},onForgeStepCode:function(){}}},c=l,u=(a("edd4"),a("2877")),d=Object(u["a"])(c,o,n,!1,null,"4a462ef6",null),m=d.exports,p=a("5880"),g={components:{TwoStepCaptcha:m},data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,isLoginError:!1,requiredTwoStepCaptcha:!1,stepCaptchaVisible:!1,form:this.$form.createForm(this),state:{time:60,loginBtn:!1,loginType:0,smsSendBtn:!1}}},methods:Object(s["a"])(Object(s["a"])({},Object(p["mapActions"])(["Login","Logout"])),{},{handleUsernameOrEmail:function(e,t,a){var r=this.state,i=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;i.test(t)?r.loginType=0:r.loginType=1,a()},handleTabClick:function(e){this.customActiveKey=e},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields,r=this.state,i=this.customActiveKey,o=this.Login;r.loginBtn=!0;var n="tab1"===i?["login","password"]:["mobile","captcha"];a(n,{force:!0},(function(e,a){if(e)setTimeout((function(){r.loginBtn=!1}),600);else{var i=Object(s["a"])({},a);delete i.login,i.login=a.login,i.password=a.password,o(i).then((function(e){return t.loginSuccess(e)})).catch((function(e){return t.requestFailed(e)})).finally((function(){r.loginBtn=!1}))}}))},loginSuccess:function(e){var t=this;this.$router.push({path:"/"}),setTimeout((function(){t.$notification.success({message:t.$t("welcome"),description:t.$t("greeting")})}),1e3),this.isLoginError=!1},requestFailed:function(e){this.isLoginError=!0,this.$notification["error"]({message:"Error",description:((e.response||{}).data||{}).message||"There was an error with the request, please try again later",duration:4})}})},h=g,v=(a("0d00"),Object(u["a"])(h,r,i,!1,null,"093db040",null));t["default"]=v.exports},edd4:function(e,t,a){"use strict";var r=a("90b4"),i=a.n(r);i.a},eeab:function(e,t,a){}}]);